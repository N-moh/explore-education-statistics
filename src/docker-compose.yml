version: "3"
services:
  data-api:
    container_name: ees-data
    build: GovUk.Education.ExploreEducationStatistics.Data.Api
    ports:
    - "5000:5000"
    - "5001:5001"
  content-api:
    container_name: ees-content
    build: GovUk.Education.ExploreEducationStatistics.Content.Api
    ports:
    - "5010:5000"
    - "5011:5011"
  frontend:
    container_name: ees-frontend
    build: explore-education-statistics-frontend
    volumes:
      - './explore-education-statistics-frontend:/usr/src/app'
      - '/usr/src/app/node_modules'
    ports:
      - '3000:3000'
    environment:
      - NODE_ENV=development
    depends_on:
      - data-api
      - content-api
  data-storage:
    container_name: ees-storage
    image: arafato/azurite
    ports:
      - "10000:10000"
      - "10001:10001"
      - "10002:10002"
